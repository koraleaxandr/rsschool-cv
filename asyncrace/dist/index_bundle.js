(()=>{"use strict";var n={523:(n,e,t)=>{t.d(e,{Z:()=>c});var r=t(81),a=t.n(r),o=t(645),i=t.n(o)()(a());i.push([n.id,'.footer {\r\n    position: fixed;\r\n    bottom: 0px;\r\n    width: 100%;\r\n  background-color: #121C1E;\r\n  color: #fff;\r\n}\r\n\r\n.footer-container {\r\n  position: relative;\r\n  width: 100%;\r\n  max-width: 1600px;  \r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;   \r\n  bottom: 0;\r\n  margin: 0 auto;\r\n}\r\n\r\n.footer-data {\r\n  display: flex;\r\n  align-items: center;\r\n  font-size: 1.15rem;\r\n}\r\n\r\n.copyright {\r\n  padding-right: 20px;\r\n}\r\n\r\n.github-username {\r\n  color: #fff;\r\n  text-decoration: none;\r\n  padding: 0 20px;\r\n  transition: .3s;\r\n}\r\n\r\n.github-username:hover,\r\n.rss-logo:hover,\r\n.footer-data:hover {\r\n  color: #278D9F;\r\n}\r\n\r\n.rss-logo {\r\n  width: 160px;\r\n  height: 1.5rem;\r\n  background-size: contain;\r\n  background-repeat: no-repeat;\r\n  background-image: url("./assets/svg/rs_school-js-1.svg");\r\n  transition: .3s;\r\n}\r\n\r\n.rss-logo:hover {\r\n  filter: invert(57%) sepia(100%) saturate(329%) hue-rotate(141deg) brightness(89%) contrast(90%);\r\n}',""]);const c=i},867:(n,e,t)=>{t.d(e,{Z:()=>c});var r=t(81),a=t.n(r),o=t(645),i=t.n(o)()(a());i.push([n.id,".garage-container {\r\n    position: relative;\r\n    width: 100%;\r\n    font-size: 2.5vh;\r\n    color: ghostwhite;\r\n}\r\n\r\n.warning {\r\n    position: absolute;\r\n    width: 80vw;\r\n    /* height: 30vh; */\r\n    top: 25%;\r\n    margin: 0 10vw;    \r\n    background: rgba(22, 41, 41, 0.6);\r\n    border-radius: 15px;\r\n  backdrop-filter: blur(2px);\r\n  font-size: 6vh;\r\n  font-weight: 800;\r\n  color: white;\r\n  text-align: center;\r\n  z-index: 1;\r\n  transition: all 1.2s;\r\n}\r\n\r\n.next-page-button,\r\n.prev-page-button {\r\n    opacity: 0.3;\r\n    background-color: cadetblue;\r\n    color: white;\r\n    font-size: 1rem;\r\n}\r\n\r\n.car-item-container {\r\n    display: block;\r\n}\r\n\r\n.car-item-pagination {\r\n    display: flex;\r\n    height: 4vh;\r\n    flex-wrap: nowrap;\r\n    justify-content: start;\r\n    align-items: center;\r\n}\r\n\r\n.car-trademark {\r\n    margin-right: 10px;\r\n    font-size: 3vh;\r\n}\r\n\r\n.car-item {\r\n    position: absolute;\r\n    width: 10%;\r\n    height: 5vh;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    flex-wrap: nowrap;\r\n    font-size: 1.5vw;\r\n    border-radius: 8px;\r\n    background-color: transparent;\r\n    text-align: center;\r\n}\r\n\r\n.car-item svg {\r\n    width: 100%;\r\n    height: 100%;\r\n}\r\n\r\n.car-item svg:hover {   \r\n     stroke-width: 200;\r\n}\r\n\r\n.item-warning-container {\r\n    position: absolute;\r\n    width: 100%;\r\n    height: 100%;   \r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    flex-wrap: nowrap;\r\n    font-size: 1.5vw;\r\n    border-radius: 8px;\r\n    background-color: transparent;\r\n    text-align: center;\r\n}\r\n\r\n.item-race-container {\r\n    position: relative;\r\n    width: 100%;\r\n    min-height: 5vh;\r\n    margin: 10px 0px;\r\n    border-bottom: solid 2px yellowgreen;\r\n}\r\n\r\n.final-lap-flag {\r\n    position: absolute;\r\n    width: 5vh;\r\n    height: 5vh;\r\n    right: 12%;\r\n    background-color: transparent ;\r\n    background-image: url(./assets/svg/Checkered-Racing-Flags.svg);\r\n    background-size: contain;\r\n    background-repeat: no-repeat;\r\n}\r\n\r\n.start-car {\r\n    background-color: rgba(13, 209, 56, 0.877);\r\n    color: rgb(254, 255, 204);\r\n}\r\n\r\n.stop-car {\r\n    background-color: orangered;\r\n    color: white;\r\n    opacity: 0.3;\r\n}\r\n\r\n.select-car {\r\n    background-color: rgb(126, 66, 126);\r\n    color: white;\r\n}\r\n\r\n.remove-car {\r\n    background-color: rgba(231, 81, 12, 0.795);\r\n}",""]);const c=i},244:(n,e,t)=>{t.d(e,{Z:()=>c});var r=t(81),a=t.n(r),o=t(645),i=t.n(o)()(a());i.push([n.id,"html {\r\n    width: 100%;\r\n    height: 100%;\r\n}\r\n\r\n* {    \r\n   box-sizing: border-box;\r\n   margin: 0;\r\n   padding: 0;\r\n   border: none;\r\n}\r\n\r\n.hidden {\r\n    opacity: 0;\r\n}\r\n\r\n.off{\r\n    display: none;\r\n}\r\n\r\n.active {\r\n    opacity: 1;\r\n}\r\n\r\nheader {\r\n    position: fixed;\r\n    width: 100%;\r\n    height: 5vh;\r\n    top: 0;\r\n     background-color: #121C1E;\r\n     z-index: 1;\r\n}\r\n\r\nbody {    \r\n  width: 100%;\r\n height: 95vh; \r\n  font-size: 1rem;\r\n  font-weight: 400;\r\n  padding: 0;\r\n  margin: 0;\r\n  margin-top: 5vh;\r\n  max-width: 100vw;\r\n  font-family: 'Open Sans', sans-serif;\r\n  line-height: 1.5;\r\n  background-color: rgb(0, 0, 0);\r\n}\r\nbutton {\r\n    max-height: 6vh;\r\n   font-size: 2.3vh;\r\n   border-radius: 8px;\r\n   padding: 2px;\r\n   margin: 2px;\r\n}\r\n\r\n.select-page-container,\r\n.create-car-container,\r\n.update-car-container {\r\n    position: relative;\r\n    margin-bottom: 15px;\r\n}\r\n\r\n.update-car-container {\r\n    opacity: 0.3;\r\n}\r\n\r\n/* .create-car-container {\r\n    margin-top: 5vh;\r\n} */\r\n\r\n.car-model-create,\r\n.car-model-edit {\r\n    min-width: 200px;\r\n    margin-right: 10px;\r\n    font-size: 1.5rem;\r\n    font-weight: 600;\r\n    color: rgb(13, 6, 119);\r\n}\r\n\r\n.car-color-create,\r\n.car-color-edit {\r\n    width: 27px;\r\n    height: 27px;\r\n    margin-right: 10px;\r\n    border-radius: 8px;\r\n    cursor: pointer;\r\n}\r\n\r\n.create-car {\r\n    background-color: forestgreen;\r\n}\r\n\r\n.update-car {\r\n    background-color: cornflowerblue;\r\n    color: white;\r\n}\r\n\r\n.race-container {\r\n    display: flex;\r\n    flex-wrap: wrap;\r\n    font-size: 2.3vh;\r\n    color: rgb(26, 241, 7);\r\n    align-items: center;\r\n}",""]);const c=i},861:(n,e,t)=>{t.d(e,{Z:()=>c});var r=t(81),a=t.n(r),o=t(645),i=t.n(o)()(a());i.push([n.id,".winners {\r\n    width: 100%;\r\n    height: 100%;\r\n    background-color: rgb(30, 68, 99);\r\n    color: white;\r\n    font: 3vh sans-serif;\r\n}\r\n\r\n.winners_prev_page,\r\n.winners_next_page {\r\n    opacity: 0.3;\r\n    background-color: cadetblue;\r\n    color: white;\r\n    font-size: 1.5rem;\r\n}\r\n\r\n.winner_table_start_line {\r\n    border: 2px solid white;\r\n}\r\n\r\n.winner_table_start_line {\r\n    margin-top: 2vh;\r\n}\r\n\r\n.winner_line_container,\r\n.winner_table_start_line {\r\n    display: grid;\r\n    height: 5vh;\r\n    grid-template-columns: 5% 10% 50% 10% 10% 15%;\r\n}\r\n.winnwers_pagination_container,\r\n.winners_total{\r\n    display: flex;\r\n    justify-content: flex-start;\r\n    align-items: center;\r\n    flex-wrap: wrap;    \r\n    text-align: center;\r\n    font-size: 2vh;\r\n}\r\n\r\n.winners_total {\r\n    width: 100%;\r\n}\r\n\r\n.table-number,\r\n.winner_image,\r\n.winner_name,\r\n.winner_wins_number,\r\n.winner_best_time,\r\n.winner_delete,\r\n.winner_delete_start {\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    border: 0.1vh solid white;\r\n    text-align: center;\r\n    font-size: 2vh;\r\n}\r\n\r\n.winner_delete:hover {\r\n    background-color: rgba(255, 99, 71, 0.603);\r\n    cursor: pointer;\r\n}\r\n\r\n.winners_sort_id,\r\n.winners_sort_wins,\r\n.winners_sort_time,\r\n.winners_sort_ASC {\r\nopacity: 0.5;\r\nbackground-color: violet;\r\ncolor: white;\r\n}\r\n\r\n.winners_sort_ASC,\r\n.winners_sort_id:hover,\r\n.winners_sort_wins:hover,\r\n.winners_sort_time:hover,\r\n.winners_sort_ASC:hover {\r\n    opacity: 1;\r\n}\r\n\r\n.winners_sort_id:active,\r\n.winners_sort_wins:active,\r\n.winners_sort_time:active,\r\n.winners_sort_ASC:active {\r\n    background-color: slateblue;\r\n}",""]);const c=i},645:n=>{n.exports=function(n){var e=[];return e.toString=function(){return this.map((function(e){var t="",r=void 0!==e[5];return e[4]&&(t+="@supports (".concat(e[4],") {")),e[2]&&(t+="@media ".concat(e[2]," {")),r&&(t+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),t+=n(e),r&&(t+="}"),e[2]&&(t+="}"),e[4]&&(t+="}"),t})).join("")},e.i=function(n,t,r,a,o){"string"==typeof n&&(n=[[null,n,void 0]]);var i={};if(r)for(var c=0;c<this.length;c++){var s=this[c][0];null!=s&&(i[s]=!0)}for(var d=0;d<n.length;d++){var l=[].concat(n[d]);r&&i[l[0]]||(void 0!==o&&(void 0===l[5]||(l[1]="@layer".concat(l[5].length>0?" ".concat(l[5]):""," {").concat(l[1],"}")),l[5]=o),t&&(l[2]?(l[1]="@media ".concat(l[2]," {").concat(l[1],"}"),l[2]=t):l[2]=t),a&&(l[4]?(l[1]="@supports (".concat(l[4],") {").concat(l[1],"}"),l[4]=a):l[4]="".concat(a)),e.push(l))}},e}},81:n=>{n.exports=function(n){return n[1]}},797:(n,e,t)=>{t.r(e),t.d(e,{default:()=>f});var r=t(379),a=t.n(r),o=t(795),i=t.n(o),c=t(569),s=t.n(c),d=t(565),l=t.n(d),u=t(216),p=t.n(u),g=t(589),v=t.n(g),h=t(523),m={};m.styleTagTransform=v(),m.setAttributes=l(),m.insert=s().bind(null,"head"),m.domAPI=i(),m.insertStyleElement=p(),a()(h.Z,m);const f=h.Z&&h.Z.locals?h.Z.locals:void 0},391:(n,e,t)=>{t.r(e),t.d(e,{default:()=>f});var r=t(379),a=t.n(r),o=t(795),i=t.n(o),c=t(569),s=t.n(c),d=t(565),l=t.n(d),u=t(216),p=t.n(u),g=t(589),v=t.n(g),h=t(867),m={};m.styleTagTransform=v(),m.setAttributes=l(),m.insert=s().bind(null,"head"),m.domAPI=i(),m.insertStyleElement=p(),a()(h.Z,m);const f=h.Z&&h.Z.locals?h.Z.locals:void 0},664:(n,e,t)=>{t.r(e),t.d(e,{default:()=>f});var r=t(379),a=t.n(r),o=t(795),i=t.n(o),c=t(569),s=t.n(c),d=t(565),l=t.n(d),u=t(216),p=t.n(u),g=t(589),v=t.n(g),h=t(244),m={};m.styleTagTransform=v(),m.setAttributes=l(),m.insert=s().bind(null,"head"),m.domAPI=i(),m.insertStyleElement=p(),a()(h.Z,m);const f=h.Z&&h.Z.locals?h.Z.locals:void 0},923:(n,e,t)=>{t.r(e),t.d(e,{default:()=>f});var r=t(379),a=t.n(r),o=t(795),i=t.n(o),c=t(569),s=t.n(c),d=t(565),l=t.n(d),u=t(216),p=t.n(u),g=t(589),v=t.n(g),h=t(861),m={};m.styleTagTransform=v(),m.setAttributes=l(),m.insert=s().bind(null,"head"),m.domAPI=i(),m.insertStyleElement=p(),a()(h.Z,m);const f=h.Z&&h.Z.locals?h.Z.locals:void 0},379:n=>{var e=[];function t(n){for(var t=-1,r=0;r<e.length;r++)if(e[r].identifier===n){t=r;break}return t}function r(n,r){for(var o={},i=[],c=0;c<n.length;c++){var s=n[c],d=r.base?s[0]+r.base:s[0],l=o[d]||0,u="".concat(d," ").concat(l);o[d]=l+1;var p=t(u),g={css:s[1],media:s[2],sourceMap:s[3],supports:s[4],layer:s[5]};if(-1!==p)e[p].references++,e[p].updater(g);else{var v=a(g,r);r.byIndex=c,e.splice(c,0,{identifier:u,updater:v,references:1})}i.push(u)}return i}function a(n,e){var t=e.domAPI(e);return t.update(n),function(e){if(e){if(e.css===n.css&&e.media===n.media&&e.sourceMap===n.sourceMap&&e.supports===n.supports&&e.layer===n.layer)return;t.update(n=e)}else t.remove()}}n.exports=function(n,a){var o=r(n=n||[],a=a||{});return function(n){n=n||[];for(var i=0;i<o.length;i++){var c=t(o[i]);e[c].references--}for(var s=r(n,a),d=0;d<o.length;d++){var l=t(o[d]);0===e[l].references&&(e[l].updater(),e.splice(l,1))}o=s}}},569:n=>{var e={};n.exports=function(n,t){var r=function(n){if(void 0===e[n]){var t=document.querySelector(n);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(n){t=null}e[n]=t}return e[n]}(n);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(t)}},216:n=>{n.exports=function(n){var e=document.createElement("style");return n.setAttributes(e,n.attributes),n.insert(e,n.options),e}},565:(n,e,t)=>{n.exports=function(n){var e=t.nc;e&&n.setAttribute("nonce",e)}},795:n=>{n.exports=function(n){var e=n.insertStyleElement(n);return{update:function(t){!function(n,e,t){var r="";t.supports&&(r+="@supports (".concat(t.supports,") {")),t.media&&(r+="@media ".concat(t.media," {"));var a=void 0!==t.layer;a&&(r+="@layer".concat(t.layer.length>0?" ".concat(t.layer):""," {")),r+=t.css,a&&(r+="}"),t.media&&(r+="}"),t.supports&&(r+="}");var o=t.sourceMap;o&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),e.styleTagTransform(r,n,e.options)}(e,n,t)},remove:function(){!function(n){if(null===n.parentNode)return!1;n.parentNode.removeChild(n)}(e)}}}},589:n=>{n.exports=function(n,e){if(e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}},438:(n,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.cancelCarAnimations=e.winnerAnimation=e.brockenEngineAnimation=e.getCarsAnimations=e.carAnimations=e.carDriveAnimation=void 0,e.carDriveAnimation=n=>{const t=document.querySelectorAll(".car-item")[n.index],r=n.data.distance/n.data.velocity,a=t.animate([{left:"0"},{left:"87%"}],{id:n.carId,duration:r,fill:"forwards"});return e.carAnimations.push(a),a},e.carAnimations=[],e.getCarsAnimations=(n,e)=>{const t=document.querySelectorAll(".car-item")[n].getAnimations();t.length&&t.forEach((n=>{"pause"===e?n.pause():"cancel"===e&&n.cancel()}))},e.brockenEngineAnimation=n=>{const t=document.querySelectorAll(".item-warning-container")[n];t.textContent="Check Engine!";const r=t.animate([{backgroundColor:"transparent"},{backgroundColor:"orange"}],{id:`brokenEngine${n}`,duration:800,iterations:1/0});return e.carAnimations.push(r),r},e.winnerAnimation=n=>{const t=document.querySelectorAll(".item-warning-container")[n];t.textContent="WINNER!";const r=t.animate([{backgroundColor:"transparent"},{backgroundColor:"green"}],{id:`winner${n}`,duration:800,iterations:1/0});return e.carAnimations.push(r),r},e.cancelCarAnimations=()=>{e.carAnimations.forEach((n=>{n.cancel()})),e.carAnimations.length=0,document.querySelectorAll(".item-warning-container").forEach((n=>{n.textContent=""}))}},429:function(n,e,t){var r=this&&this.__awaiter||function(n,e,t,r){return new(t||(t=Promise))((function(a,o){function i(n){try{s(r.next(n))}catch(n){o(n)}}function c(n){try{s(r.throw(n))}catch(n){o(n)}}function s(n){var e;n.done?a(n.value):(e=n.value,e instanceof t?e:new t((function(n){n(e)}))).then(i,c)}s((r=r.apply(n,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.listenApiQuery=e.selectCar=e.removeCar=e.createCar=e.getWarning=e.getCarInGarageForId=e.getCarsInGarage=e.getIndexNodeElements=e.Car=e.totalCars=e.garageResponcedata=e.path=e.baseUrl=void 0;const a=t(294),o=t(853);e.baseUrl="http://127.0.0.1:3000",e.path={garage:"/garage",engine:"/engine",winners:"/winners"},e.garageResponcedata=[];class i{constructor(n,e,t,r,a,o){this.id=t,this.name=n,this.color=e,this.status=r,this.wins=a,this.time=o}}e.Car=i,e.getIndexNodeElements=(n,e)=>Array.prototype.indexOf.call(n,e)||-1,e.getCarsInGarage=(n,t="7")=>r(void 0,void 0,void 0,(function*(){const r=yield fetch(`${e.baseUrl}${e.path.garage}?_page=${n}&_limit=${t}`);return e.garageResponcedata=yield r.json(),e.totalCars=Number(r.headers.get("X-Total-Count")),document.querySelector(".total-count").textContent=` (${e.totalCars})`,e.garageResponcedata})),e.getCarInGarageForId=n=>r(void 0,void 0,void 0,(function*(){const t=yield fetch(`${e.baseUrl}${e.path.garage}?id=${n}`),r=yield t.json();if(200==t.status)return r[0];(0,e.getWarning)("No car with such ID in garage")})),e.getWarning=n=>{const e=document.getElementById("warning-message");e.textContent=n,e.classList.remove("off"),e.classList.remove("hidden"),setTimeout((()=>{e.classList.add("hidden")}),1500),setTimeout((()=>{e.classList.add("off")}),2e3)},e.createCar=()=>r(void 0,void 0,void 0,(function*(){const n=document.querySelector(".car-color-create"),t=document.querySelector(".car-model-create").value;if(!t)return void(0,e.getWarning)("Input Car Model!");const r=n.value,o=new i(t,r);console.log(JSON.stringify(o));const c=yield fetch(`${e.baseUrl}${e.path.garage}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)});if(console.log(c),201==c.status){const n=yield c.json();return(0,a.renderGarage)(),n}(0,e.getWarning)("Problems with server")})),e.removeCar=()=>{document.querySelectorAll(".remove-car").forEach((n=>{n.addEventListener("click",(()=>r(void 0,void 0,void 0,(function*(){const t=n.getAttribute("data-id");if(200==(yield fetch(`${e.baseUrl}${e.path.garage}/${t}`,{method:"DELETE",body:t})).status)return(0,o.deleteWinner)(Number(t)),void(0,a.renderGarage)();(0,e.getWarning)("No car with such ID in garage")}))))}))},e.selectCar=()=>{const n=document.querySelector(".update-car"),t=document.querySelector(".car-model-edit"),a=document.querySelector(".car-color-edit"),o=document.querySelector(".update-car-container");document.querySelectorAll(".select-car").forEach((i=>{i.addEventListener("click",(()=>r(void 0,void 0,void 0,(function*(){const r=i.getAttribute("data-id"),c=yield(0,e.getCarInGarageForId)(r);t.value=c.name,a.value=c.color,n.setAttribute("data-id",r),o.style.opacity="1"}))))}))},e.listenApiQuery=()=>{const n=document.querySelector(".create-car"),t=document.querySelector(".update-car"),o=document.querySelector(".car-model-edit");n.addEventListener("click",(()=>{(0,e.createCar)()})),t.addEventListener("click",(()=>{o.value?r(void 0,void 0,void 0,(function*(){const n=document.querySelector(".update-car-container"),t=document.querySelector(".update-car"),r=document.querySelector(".car-model-edit"),o=document.querySelector(".car-color-edit"),i=t.getAttribute("data-id"),c=yield(0,e.getCarInGarageForId)(i);if(c.name=r.value,c.color=o.value,200==(yield fetch(`${e.baseUrl}${e.path.garage}/${i}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(c)})).status)return r.value="",n.style.opacity="0.3",void(0,a.renderGarage)();(0,e.getWarning)("Problems with server")})):(0,e.getWarning)("Please select CAR!")}))}},537:(n,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.brandsCars=e.modelsCars=void 0,e.modelsCars=["Roadster","S","X","3","Y","Cybertruck","X5","X7","X3","X6","GT4","FXX","599 GTO","Enzo","458 Italia","250 GTO","Priora","4x4","Rio","Focus","Kalina","Vesta","Spark","Lacetti","Nexia","Matiz","Cobalt","Captiva","A7","A5","A3","A8","TT","Corolla","Camry","RAV4","Impreza","WRX","ES","LS","RX","GX","LX","GS","LC500","Gallardo","Aventador","911","Cayenne","FX37"],e.brandsCars=["Audi","Alfa Romeo","Alpina","Aston Martin","Axon","Ford","Ferrari","Fiat","GAZ","GMC","Honda","Hummer","Hyundai","Infiniti","Isuzu","JAC","Jaguar","Jeep","Kamaz","Lada","Lexus","Lotus","MAN","Maybach","MAZ","Mazda","McLaren","Nissan","Opel","Paccar","Pagani","Pontiac","Porsche","Renault","Škoda","Smart","Subaru","Suzuki","Tesla","Toyota","UAZ","Volvo","ZAZ","XPeng","TVR","Saab","RAM","Chevrolet","Mazzanti","Daewoo"]},677:(n,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.bodyHtml=e.carItemHtml=e.carItemImage=void 0,e.carItemImage='<path d="M3525 5341 c-72 -18 -79 -28 -90 -121 -4 -30 -11 -62 -16 -71 -4 -9 -97 -51 -206 -94 -774 -304 -1348 -540 -1603 -661 -163 -77 -222 -91 -421 -104 -85 -5 -170 -14 -189 -20 -101 -32 -362 -58 -620 -63 l-115 -2 -47 -80 c-47 -78 -47 -80 -29 -100 34 -36 35 -77 5 -177 -30 -99 -34 -178 -19 -370 5\n-67 4 -88 -6 -88 -29 0 -83 -56 -110 -114 -50 -106 -74 -343 -48 -467 13 -58 13 -62 3 -159 -5 -54 16 -238 28 -244 2 -1 29 -20 61 -41 73 -49 123 -103 132 -143 17 -79 167 -155 355 -181 104 -15 969 -97 1087 -104 l32 -2 5 160 c7 230\n50 394 146 559 281 479 917 673 1405 429 316 -159 530 -424 598 -742 22 -106 29 -365 13 -519 l-8 -82 3002 0 c2855 0 3002 1 2995 18 -33 87 -56 325 -45 461 28 320 177 567 459 759 399 273 847 282 1243 24 239 -157 397 -392 460\n-687 18 -84 15 -341 -5 -430 -8 -38 -14 -71 -12 -73 7 -8 386 20 478 34 180 28 253 65 304 152 24 41 28 57 28 127 -1 44 -9 117 -20 163 -18 79 -18 88 -2 190 31 199 40 306 41 497 1 176 -1 195 -23 260 -46 135 -103 190 -283 274\n-222 104 -633 220 -1168 330 -523 108 -1524 210 -2054 211 l-229 0 -236 139 c-813 477 -1593 884 -1852 966 -498 157 -1598 195 -2892 100 l-188 -14 -47 30 c-92 58 -223 89 -297 70z m1912 -311 c13 -45 58 -305 88 -515 33 -226 74 -539\n71 -542 -7 -7 -1672 40 -2054 58 -357 16 -464 56 -573 215 -62 91 -87 225 -59 326 12 40 56 74 192 148 369 198 799 289 1618 340 246 15 290 16 510 16 l194 -1 13 -45z m649 10 c383 -36 717 -86 934 -139 210 -52 451 -163 720 -332 141\n-88 379 -259 380 -271 0 -5 -14 -8 -32 -8 -48 0 -114 -37 -140 -78 -24 -39 -30 -113 -15 -189 l9 -43 -904 0 -904 0 -176 540 -175 540 47 0 c25 0 141 -9 256 -20z"/>\n<path d="M2617 3125 c-431 -82 -774 -440 -838 -875 -17 -117 -7 -292 24 -410\n113 -436 497 -751 947 -777 507 -29 959 313 1076 813 28 117 26 348 -4 467\n-94 378 -383 670 -760 768 -105 27 -336 34 -445 14z m378 -310 c84 -21 209\n-85 280 -142 116 -94 210 -242 251 -393 23 -87 24 -260 0 -355 -58 -237 -242\n-439 -473 -519 -531 -186 -1074 277 -969 828 30 152 94 274 206 386 111 110\n237 178 385 206 84 16 235 11 320 -11z"/>\n<path d="M2918 2568 c2 -90 7 -167 12 -172 17 -17 108 58 201 166 l51 57 -48\n31 c-52 33 -131 65 -185 75 l-34 6 3 -163z"/>\n<path d="M2591 2700 c-62 -22 -167 -82 -164 -94 3 -13 237 -216 249 -216 7 0\n15 7 18 16 8 20 8 127 -1 232 -7 95 -8 96 -102 62z"/>\n<path d="M3209 2355 c-57 -64 -105 -123 -107 -131 -6 -25 46 -35 157 -29 58 3\n121 8 139 11 33 5 34 6 27 42 -7 44 -64 167 -92 201 l-19 24 -105 -118z"/>\n<path d="M2260 2409 c-31 -44 -68 -133 -77 -186 l-6 -33 155 0 c165 0 201 9\n181 44 -13 24 -204 216 -214 216 -5 0 -22 -18 -39 -41z"/>\n<path d="M2786 2354 c-36 -35 0 -87 44 -64 26 14 26 56 1 70 -25 13 -27 13\n-45 -6z"/>\n<path d="M2751 2186 c-57 -32 -68 -111 -22 -157 43 -42 101 -43 143 -1 42 42\n41 100 -1 143 -33 32 -78 38 -120 15z"/>\n<path d="M2560 2136 c-19 -23 -8 -61 18 -64 44 -7 67 32 36 62 -19 20 -38 20\n-54 2z"/>\n<path d="M3002 2124 c-27 -19 -28 -36 -3 -58 25 -23 61 -6 61 29 0 33 -30 49\n-58 29z"/>\n<path d="M2245 1993 c-77 -6 -76 -5 -59 -65 16 -55 61 -146 92 -186 l18 -23\n103 122 c57 67 104 129 105 138 1 14 -14 16 -104 17 -58 0 -127 -1 -155 -3z"/>\n<path d="M3165 1981 c-44 -4 -61 -10 -63 -22 -3 -16 210 -229 228 -229 22 0\n86 141 105 228 l7 32 -109 -2 c-59 -1 -135 -4 -168 -7z"/>\n<path d="M2776 1914 c-19 -18 -19 -20 -6 -45 6 -11 21 -19 35 -19 20 0 45 24\n45 44 0 10 -32 36 -45 36 -7 0 -21 -7 -29 -16z"/>\n<path d="M2589 1743 c-86 -90 -139 -151 -139 -162 0 -25 179 -101 236 -101\nl27 0 -7 143 c-9 166 -13 187 -35 187 -9 0 -46 -30 -82 -67z"/>\n<path d="M2936 1801 c-6 -10 -24 -168 -29 -258 -3 -60 -2 -63 19 -63 79 0 262\n68 248 92 -5 7 -53 64 -108 126 -93 105 -117 124 -130 103z"/>\n<path d="M10723 3125 c-318 -58 -597 -266 -743 -555 -223 -441 -98 -996 289\n-1288 112 -84 188 -125 311 -166 274 -91 545 -70 802 61 552 282 735 983 392\n1500 -225 339 -651 521 -1051 448z m385 -315 c348 -98 579 -443 532 -796 -67\n-508 -596 -796 -1055 -574 -239 116 -396 352 -412 620 -20 335 192 640 516\n745 122 40 289 42 419 5z"/>\n<path d="M11017 2568 c3 -90 9 -167 14 -172 13 -14 53 18 155 122 l95 97 -23\n18 c-50 40 -189 97 -235 97 -10 0 -11 -33 -6 -162z"/>\n<path d="M10705 2706 c-50 -16 -133 -58 -163 -82 l-23 -19 121 -107 c67 -60\n128 -108 135 -108 23 0 27 39 20 186 -8 162 -4 157 -90 130z"/>\n<path d="M11307 2354 c-59 -65 -107 -126 -107 -136 0 -11 11 -18 38 -22 44 -7\n278 7 289 17 15 16 -51 183 -94 236 l-19 24 -107 -119z"/>\n<path d="M10362 2413 c-39 -62 -70 -134 -78 -184 l-7 -39 152 0 c86 0 161 5\n172 10 17 10 18 13 5 38 -8 15 -59 71 -114 125 l-99 99 -31 -49z"/>\n<path d="M10888 2359 c-24 -14 -23 -56 2 -69 44 -23 80 29 44 64 -18 19 -23\n19 -46 5z"/>\n<path d="M10851 2187 c-49 -29 -66 -101 -35 -146 9 -13 32 -29 50 -37 29 -12\n39 -12 68 0 99 41 85 180 -19 192 -24 3 -50 -1 -64 -9z"/>\n<path d="M10660 2136 c-19 -23 -8 -61 18 -64 44 -7 67 32 36 62 -19 20 -38 20\n-54 2z"/>\n<path d="M11096 2124 c-9 -8 -16 -22 -16 -29 0 -13 26 -45 36 -45 20 0 44 25\n44 45 0 14 -8 29 -19 35 -25 13 -27 13 -45 -6z"/>\n<path d="M10335 1991 c-60 -6 -60 -6 -57 -36 9 -69 104 -248 122 -229 57 61\n210 250 207 258 -4 12 -176 17 -272 7z"/>\n<path d="M11267 1983 c-68 -5 -79 -19 -47 -60 23 -31 200 -193 210 -193 3 0\n20 24 37 53 29 48 52 111 67 180 l6 27 -107 -2 c-60 -1 -134 -3 -166 -5z"/>\n<path d="M10870 1910 c-16 -31 4 -62 38 -58 21 2 28 9 30 32 5 45 -47 65 -68\n26z"/>\n<path d="M10651 1703 c-56 -59 -101 -113 -101 -120 0 -28 172 -103 237 -103\nl26 0 -7 123 c-10 179 -15 207 -36 207 -10 0 -63 -48 -119 -107z"/>\n<path d="M11035 1801 c-7 -12 -23 -144 -29 -243 -4 -77 -4 -78 19 -78 45 0\n130 22 193 51 l64 29 -19 23 c-65 82 -198 227 -209 227 -7 0 -15 -4 -19 -9z"/></g>\n</svg>\n<div class="item-warning-container"></div>\n</div>',e.carItemHtml='\n      <div class="car-item">\n      <?xml version="1.0" standalone="no"?>\n        <!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 20010904//EN"\n         "http://www.w3.org/TR/2001/REC-SVG-20010904/DTD/svg10.dtd">\n        <svg version="1.0" xmlns="http://www.w3.org/2000/svg"\n         width="1280.000000pt" height="640.000000pt" viewBox="0 0 1280.000000 640.000000"\n         preserveAspectRatio="xMidYMid meet">\n        <g transform="translate(0.000000,640.000000) scale(0.100000,-0.100000)"\n        fill="',e.bodyHtml='\n        <header>\n  <div class="select-page-container">\n    <button class="page-select" id="to-garage">TO GARAGE</button>\n    <button class="page-select" id="to-winners">TO WINNERS</button>\n  </div>\n</header>\n  <div class="warning off hidden" id="warning-message"></div>\n        <div class="garage">\n    <div class="create-car-container">\n      <input type="text" class="car-model-create">\n      <input type="color" class="car-color-create">\n      <button class="create-car">CREATE</button>\n    </div>\n    <div class="update-car-container">\n      <input type="search" class="car-model-edit">\n      <input type="color" class="car-color-edit">\n      <button class="update-car">UPDATE</button>\n    </div>\n    <div class="race-container">\n      <div class="garage-total">\n        <p>GARAGE<span class="total-count"></span></p>\n        <p>Page<span class="page-count">#1</span></p>\n      </div>\n      <button class="next-page-button">NEXT PAGE</button>\n      <button class="prev-page-button">PREV PAGE</button>\n      <button class="start-race-button">START RACE</button>\n      <button class="reset-garage">RESET</button>\n      <button class="generate-cars">Generate cars</button>\n    </div>\n    <div class="garage-container">      \n    </div>\n  </div>\n  <div class="winners off">\n    <div class="winnwers_pagination_container">\n      <div class="winners_total">\n        <div class="">\n        <p>WINNERS<span class="total_winners_count"></span></p>\n        <p>Page<span class="page_winners_count">#1</span></p>\n        </div>\n        <button class="winners_prev_page">PREV</button>\n      <button class="winners_next_page">NEXT</button>\n      </div>\n      \n      <p>SORT BY:</p> \n      <button type="menu" class="winners_sort_id">ID</button>\n      <button type="menu" class="winners_sort_wins">wins</button>\n      <button type="menu" class="winners_sort_time">best time</button>\n      <button type class="winners_sort_ASC">ASC</button>\n    </div>\n    <div class="winner_table_start_line">\n     \n   <div class="table-number">№</div>\n      <div class="winner_image">Car image</div>\n      <div class="winner_name">Model</div>\n      <div class="winner_wins_number">WINS</div>\n      <div class="winner_best_time">Best time</div>\n      <div class="winner_delete_start">DELETE</div>\n      </div>     \n    <div class="winners_table_container"></div>\n  </div>\n\n    <footer class="footer">\n      <div class="footer-container">\n        <div class="footer-data">\n          <p class="copyright">©</p>\n          <p class="year">2021</p>\n          <a class="github-username" href="https://github.com/koraleaxandr/" target="_blank"\n            rel="noopener noreferrer">Alexandr Karatkevich</a>\n        </div>\n\n        <a class="rss-logo" href="https://rs.school/js/" target="_blank" rel="noopener noreferrer"></a>\n      </div>\n    </footer>'},294:function(n,e,t){var r=this&&this.__awaiter||function(n,e,t,r){return new(t||(t=Promise))((function(a,o){function i(n){try{s(r.next(n))}catch(n){o(n)}}function c(n){try{s(r.throw(n))}catch(n){o(n)}}function s(n){var e;n.done?a(n.value):(e=n.value,e instanceof t?e:new t((function(n){n(e)}))).then(i,c)}s((r=r.apply(n,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.renderGarage=void 0;const a=t(429),o=t(533),i=t(677);let c=1;e.renderGarage=()=>r(void 0,void 0,void 0,(function*(){const n=document.querySelector(".garage-container"),e=document.querySelector(".winners"),t=document.querySelector(".garage");if(yield(0,a.getCarsInGarage)(c),null==e||e.classList.add("off"),null==t||t.classList.remove("off"),n.innerHTML="",a.garageResponcedata.length)return a.garageResponcedata.forEach((e=>{const t=e.color,r=document.createElement("div"),a=` <div class="car-item-pagination">\n      <p class="car-trademark" data-id="${e.id}" >${e.name}</p>           \n      <button type="checkbox" class="start-car" data-id="${e.id}" data-name="${e.name}">START</button>\n      <button type="checkbox" class="stop-car" data-id="${e.id}">STOP</button>\n      <button type="checkbox" class="select-car" data-id="${e.id}">Select</button>\n      <button class="remove-car" data-id="${e.id}">remove</button>\n      </div>\n      <div class="item-race-container">\n      ${i.carItemHtml}\n      ${t}" stroke="white" stroke-width="200">\n      ${i.carItemImage}\n<div class="final-lap-flag"></div>\n      </div>`;r.innerHTML=a,n.append(r)})),(0,a.removeCar)(),(0,a.selectCar)(),(0,o.startRaceListening)(),void s()}));const s=()=>{const n=document.querySelector(".next-page-button"),e=document.querySelector(".prev-page-button"),t=document.querySelector(".page-count");e.style.opacity="0.3",n.style.opacity="0.3";const r=a.totalCars/7;n.addEventListener("click",d,!1),e.addEventListener("click",l,!1),t.innerHTML=`#${c}`,r>1&&c<r&&(n.style.opacity="1",e.style.opacity="1"),e.style.opacity=c>1?"1":"0.3"},d=()=>{if(!u()){const n=a.totalCars/7;return c<n?(c+=1,void(0,e.renderGarage)()):void 0}},l=()=>u()?void 0:c>1?(c-=1,void(0,e.renderGarage)()):void 0,u=()=>!(!o.localRaceStarted&&!o.globalRaceStarted||((0,a.getWarning)("WAIT\n      UNTIL\n      RACE END!"),0))},401:function(n,e,t){var r=this&&this.__awaiter||function(n,e,t,r){return new(t||(t=Promise))((function(a,o){function i(n){try{s(r.next(n))}catch(n){o(n)}}function c(n){try{s(r.throw(n))}catch(n){o(n)}}function s(n){var e;n.done?a(n.value):(e=n.value,e instanceof t?e:new t((function(n){n(e)}))).then(i,c)}s((r=r.apply(n,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.generateCars=void 0;const a=t(429),o=t(537),i=t(294);e.generateCars=()=>{document.querySelector(".generate-cars").addEventListener("click",(()=>r(void 0,void 0,void 0,(function*(){(0,a.getWarning)("Please wait a sec");const n=d(100);(yield Promise.allSettled(n))?(0,i.renderGarage)():(0,a.getWarning)("Problems with server")}))))};const c=(n,e)=>(n=Math.ceil(n),e=Math.floor(e),Math.floor(Math.random()*(e-n+1))+n),s=()=>{const n=(()=>{const n=o.modelsCars[c(0,o.modelsCars.length-1)];return`${o.brandsCars[c(0,o.brandsCars.length-1)]} ${n}`})(),e=(()=>{let n="#";for(let e=0;e<6;e++)n+="0123456789ABCDEF"[Math.floor(16*Math.random())];return n})();return new a.Car(n,e)},d=(n=100)=>{const e=[];for(let t=0;t<n;t++){const n=s(),t=fetch(`${a.baseUrl}${a.path.garage}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});e.push(t)}return e}},206:function(n,e,t){var r=this&&this.__awaiter||function(n,e,t,r){return new(t||(t=Promise))((function(a,o){function i(n){try{s(r.next(n))}catch(n){o(n)}}function c(n){try{s(r.throw(n))}catch(n){o(n)}}function s(n){var e;n.done?a(n.value):(e=n.value,e instanceof t?e:new t((function(n){n(e)}))).then(i,c)}s((r=r.apply(n,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),t(664),t(797),t(391),t(923);const a=t(294),o=t(429),i=t(853),c=t(533),s=t(401),d=t(677);r(void 0,void 0,void 0,(function*(){yield r(void 0,void 0,void 0,(function*(){document.body.innerHTML=d.bodyHtml,(0,o.listenApiQuery)()})),(0,a.renderGarage)(),(0,s.generateCars)();const n=document.getElementById("to-garage"),e=document.getElementById("to-winners");n.addEventListener("click",(()=>r(void 0,void 0,void 0,(function*(){(0,c.stopGlobalRace)()})))),e.addEventListener("click",(()=>{(0,i.renderWinners)(),(0,i.sortWinners)()}))}))},533:function(n,e,t){var r=this&&this.__awaiter||function(n,e,t,r){return new(t||(t=Promise))((function(a,o){function i(n){try{s(r.next(n))}catch(n){o(n)}}function c(n){try{s(r.throw(n))}catch(n){o(n)}}function s(n){var e;n.done?a(n.value):(e=n.value,e instanceof t?e:new t((function(n){n(e)}))).then(i,c)}s((r=r.apply(n,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.stopGlobalRace=e.startRaceListening=e.localRaceStarted=e.globalRaceStarted=void 0;const a=t(429),o=t(438),i=t(294),c=t(853);let s=0;e.globalRaceStarted=!1;const d=[];e.localRaceStarted=!1;const l=(n,t,i,c)=>r(void 0,void 0,void 0,(function*(){const r=yield fetch(`${a.baseUrl}${a.path.engine}?id=${t}&status=${i}`,{method:"PATCH"});if(200===r.status&&"started"===i){const e=yield r.json(),a=performance.now(),o={carName:n,carId:t,data:e,index:c,startRaceTime:a,elapsedRaceTime:0};return p(o),o}if(429!==r.status)if(200!==r.status||"stopped"!==i);else{const n=e.localRaceStarted?"cancel":"pause";(0,o.getCarsAnimations)(c,n)}else(0,a.getWarning)(`car with such ID =${t} Drive already in progress. You can't run drive for the same car twice while it's not stopped.`)}));e.startRaceListening=()=>{const n=document.querySelector(".start-race-button");document.querySelector(".reset-garage").addEventListener("click",e.stopGlobalRace),n.addEventListener("click",(()=>{e.globalRaceStarted||u()}));const t=document.querySelectorAll(".start-car"),i=document.querySelectorAll(".stop-car");t.forEach((n=>{n.addEventListener("click",(()=>r(void 0,void 0,void 0,(function*(){if(e.globalRaceStarted||e.localRaceStarted){if(e.localRaceStarted)return void(0,a.getWarning)("Drive already in progress.\n      You can't run drive for the same car twice while it's not stopped.")}else(0,o.cancelCarAnimations)(),e.localRaceStarted=!0;if("0.3"!==n.style.opacity){const e=n.getAttribute("data-id"),r=n.getAttribute("data-name");n.style.opacity="0.3";const a=Array.prototype.indexOf.call(t,n);i[a].style.opacity="1",yield l(r,e,"started",a)}else(0,a.getWarning)("Drive already in progress.\n      You can't run drive for the same car twice while it's not stopped.")}))))})),i.forEach((n=>{n.addEventListener("click",(()=>r(void 0,void 0,void 0,(function*(){const e=n.getAttribute("data-id"),r=n.getAttribute("data-name"),a=Array.prototype.indexOf.call(i,n);yield l(r,e,"stopped",a),n.style.opacity="0.3",t[a].style.opacity="1"}))))}))};const u=()=>r(void 0,void 0,void 0,(function*(){document.querySelector(".start-race-button").style.opacity="0.3",e.globalRaceStarted||(e.globalRaceStarted=!0,e.localRaceStarted=!1,d.length=0,s=0,(0,o.cancelCarAnimations)(),yield(0,i.renderGarage)(),document.querySelectorAll(".start-car").forEach((n=>r(void 0,void 0,void 0,(function*(){n.click()})))))}));e.stopGlobalRace=()=>r(void 0,void 0,void 0,(function*(){e.globalRaceStarted=!1,document.querySelectorAll(".stop-car").forEach((n=>r(void 0,void 0,void 0,(function*(){n.click()})))),yield(0,o.cancelCarAnimations)(),yield(0,i.renderGarage)()}));const p=n=>r(void 0,void 0,void 0,(function*(){const e=(0,o.carDriveAnimation)(n);e.play();const t=yield fetch(`${a.baseUrl}${a.path.engine}?id=${n.carId}&status=drive`,{method:"PATCH"}),r=document.querySelectorAll(".stop-car"),i=document.querySelectorAll(".start-car"),c=r[n.index],l=i.length;if(200===t.status){const e=performance.now()-n.startRaceTime;return n.elapsedRaceTime=Math.round(e/1e3),console.log(`Car ID =${n.carId} end Race`),"1"===c.style.opacity&&d.push(n),s+=1,void g(s,l)}return 400===t.status?(console.log('Wrong parameters for DRIVE: "id" should be any positive number, "status" should be "started", "stopped" or "drive"'),s+=1,void g(s,l)):404===t.status?(console.log(`'Engine parameters for car with such ID =${n.carId} was not found in the garage. Have you tried to set engine status to "started" before?'`),s+=1,void g(s,l)):429===t.status?((0,a.getWarning)(`car with such ID =${n.carId} Drive already in progress. You can't run drive for the same car twice while it's not stopped.`),s+=1,void g(s,l)):void(500===t.status&&(s+=1,e.pause(),e.currentTime&&((0,o.brockenEngineAnimation)(n.index).play(),console.log(`Car ID =${n.carId} has been stopped suddenly. It's engine was broken down.`)),c.click(),g(s,l)))})),g=(n,t)=>{var i,s;const l=document.querySelector(".start-race-button");if(e.localRaceStarted=!1,e.globalRaceStarted&&1==d.length&&d[0]){(0,a.getWarning)(`WINNER-${null===(i=d[0])||void 0===i?void 0:i.carName}`);const n=null===(s=d[0])||void 0===s?void 0:s.index;void 0!==n&&((0,o.winnerAnimation)(n).play(),(0,c.getWinner)(d[0]))}n===t&&(l.style.opacity="1",document.querySelectorAll(".stop-car").forEach((n=>r(void 0,void 0,void 0,(function*(){n.click()})))),e.globalRaceStarted=!1)}},853:function(n,e,t){var r=this&&this.__awaiter||function(n,e,t,r){return new(t||(t=Promise))((function(a,o){function i(n){try{s(r.next(n))}catch(n){o(n)}}function c(n){try{s(r.throw(n))}catch(n){o(n)}}function s(n){var e;n.done?a(n.value):(e=n.value,e instanceof t?e:new t((function(n){n(e)}))).then(i,c)}s((r=r.apply(n,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.sortWinners=e.renderWinners=e.getWinners=e.totalCars=e.deleteWinner=e.getWinner=void 0;const a=t(429),o=t(677),i=t(896);e.getWinner=n=>r(void 0,void 0,void 0,(function*(){const e=yield fetch(`${a.baseUrl}${a.path.winners}/${n.carId}`,{method:"GET"});if(console.log(e),e.ok){const t=yield e.json();s(n,t),console.log(t)}else c(n)}));const c=n=>r(void 0,void 0,void 0,(function*(){const e=n.elapsedRaceTime,t=yield fetch(`${a.baseUrl}${a.path.winners}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:n.carId,wins:1,time:e})});return yield t.json()})),s=(n,e)=>r(void 0,void 0,void 0,(function*(){const t=e.wins+1,r=n.elapsedRaceTime<=e.time?n.elapsedRaceTime:e.time,o=`/${n.carId}`;return yield fetch(`${a.baseUrl}${a.path.winners}${o}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({wins:t,time:r})})}));e.deleteWinner=n=>r(void 0,void 0,void 0,(function*(){const e=yield fetch(`${a.baseUrl}${a.path.winners}/${n}`,{method:"DELETE"});return yield e.json()})),e.totalCars=0;let d="id",l="ASC";e.getWinners=(n,t,o,i=10)=>r(void 0,void 0,void 0,(function*(){const r=yield fetch(`${a.baseUrl}${a.path.winners}?_page=${n}&_limit=${i}&_sort=${t}&_order=${o}`,{method:"GET"});if(r.ok){const n=yield r.json();return e.totalCars=Number(r.headers.get("X-Total-Count")),n}})),e.renderWinners=()=>r(void 0,void 0,void 0,(function*(){const n=document.querySelector(".winners"),t=document.querySelector(".winners_table_container"),c=document.querySelector(".garage"),s=document.querySelector(".total_winners_count");null==n||n.classList.remove("off"),null==c||c.classList.add("off");const p=yield(0,e.getWinners)(i.currentWinsPage,d,l,10);let g="",v=0;for(;v<p.length;v++){const n=p[v],e=yield(0,a.getCarInGarageForId)(`${n.id}`);g+=`\n      <div class="winner_line_container">\n   <div class="table-number">${1+v}</div>\n      <div class="winner_image">${o.carItemHtml}\n      ${e.color}" stroke="white" stroke-width="200">\n      ${o.carItemImage}</div>\n      <div class="winner_name">${null==e?void 0:e.name}</div>\n      <div class="winner_wins_number">${n.wins}</div>\n      <div class="winner_best_time">${n.time}</div>\n      <div class="winner_delete"data-id="${n.id}">DEL</div>\n      </div>`}t.innerHTML=g,s.innerHTML=` ${e.totalCars}`,document.querySelectorAll(".winner_delete").forEach((n=>{n.addEventListener("click",(()=>r(void 0,void 0,void 0,(function*(){const t=Number(n.getAttribute("data-id"));yield(0,e.deleteWinner)(t),yield(0,e.renderWinners)()}))))})),u(),(0,i.changeWinsPage)()})),e.sortWinners=()=>{const n=document.querySelector(".winners_sort_id"),t=document.querySelector(".winners_sort_wins"),r=document.querySelector(".winners_sort_time"),a=document.querySelector(".winners_sort_ASC");n.addEventListener("click",(()=>{d="id",(0,e.renderWinners)()})),t.addEventListener("click",(()=>{d="wins",(0,e.renderWinners)()})),r.addEventListener("click",(()=>{d="time",(0,e.renderWinners)()})),a.addEventListener("click",(()=>{l="ASC"===l?"DESC":"ASC",a.textContent=l,(0,e.renderWinners)()}))};const u=()=>{const n=document.querySelector(".winners_sort_id"),e=document.querySelector(".winners_sort_wins"),t=document.querySelector(".winners_sort_time");switch(d){case"id":n.style.opacity="1",e.style.opacity="0.3",t.style.opacity="0.3";break;case"wins":n.style.opacity="0.3",e.style.opacity="1",t.style.opacity="0.3";break;case"time":n.style.opacity="0.3",e.style.opacity="0.3",t.style.opacity="1";break;default:n.style.opacity="0.3",e.style.opacity="0.3",t.style.opacity="0.3"}}},896:(n,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.changeWinsPage=e.currentWinsPage=void 0;const r=t(853);e.currentWinsPage=1,e.changeWinsPage=()=>{const n=document.querySelector(".winners_next_page"),t=document.querySelector(".winners_prev_page"),i=document.querySelector(".page_winners_count");t.style.opacity="0.3",n.style.opacity="0.3";const c=r.totalCars/10;n.addEventListener("click",a,!1),t.addEventListener("click",o,!1),i.innerHTML=`#${e.currentWinsPage}`,c>1&&e.currentWinsPage<c&&(n.style.opacity="1",t.style.opacity="1"),e.currentWinsPage>1?t.style.opacity="1":t.style.opacity="0.3"};const a=()=>{const n=r.totalCars/10;return e.currentWinsPage<n?(e.currentWinsPage+=1,void(0,r.renderWinners)()):void 0},o=()=>e.currentWinsPage>1?(e.currentWinsPage=e.currentWinsPage-1,void(0,r.renderWinners)()):void 0}},e={};function t(r){var a=e[r];if(void 0!==a)return a.exports;var o=e[r]={id:r,exports:{}};return n[r].call(o.exports,o,o.exports,t),o.exports}t.n=n=>{var e=n&&n.__esModule?()=>n.default:()=>n;return t.d(e,{a:e}),e},t.d=(n,e)=>{for(var r in e)t.o(e,r)&&!t.o(n,r)&&Object.defineProperty(n,r,{enumerable:!0,get:e[r]})},t.o=(n,e)=>Object.prototype.hasOwnProperty.call(n,e),t.r=n=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},t(206)})();